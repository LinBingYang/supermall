<!--  -->
<template>
  <div id="container">
      <button class="btn1" @click="addpoline">添加折线</button>
       <button class="btn2" @click="addmark">添加标注</button>
       <button class="btn3" @click="addimagelayer">添加图片layer</button>
       <button class="btn4" @click="getlocation">定位</button>
       <button class="btn5" @click="addPolygon">Polygon</button>
       <button class="btn6" @click="change">地图切换</button>
  </div>
</template>

<script>
//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）
//例如：import 《组件名称》 from '《组件路径》';
import AMapLoader from '@amap/amap-jsapi-loader';
  export default {
    //import引入的组件需要注入到对象中才能使用
  props:{
    //取数据传值
  },
    components: {},
    data() {
      //这里存放数据
      return {
          map:null,
		polyline:null,
		infoWindow:null,
		mapContent:'',
		zoom:'',
		markers:[],
		cluster:null,
        isshowoverlay:true,
        isshowmarker:true,
        lineArr:[[119.30475609,27.3879202],[119.30402909,27.387229219999998],[119.30329109,27.38666723],[119.30266109,27.386553240000001],[119.30148509,27.386589239999999],[119.30136809,27.386522240000001],[119.30105609,27.385958259999999],[119.30050208999999,27.38565127],[119.30017608999999,27.385362279999999],[119.29967009000001,27.385199279999998],[119.29941608999999,27.385219280000001],[119.29912409000001,27.385344280000002],[119.29836709,27.385841259999999],[119.29792709,27.386020250000001],[119.29698909,27.38566127],[119.29482209,27.385129280000001],[119.29375709,27.38531528],[119.29266208999999,27.385374280000001],[119.29249009,27.385213279999999],[119.29214408999999,27.38419631],[119.29196609,27.384085320000001],[119.29149609,27.38398832],[119.29132409,27.38386032],[119.29108409,27.383605330000002],[119.29075408999999,27.38299735],[119.29052109,27.38273036],[119.29029309000001,27.382586360000001],[119.28971309000001,27.382417369999999],[119.28856408999999,27.38233237],[119.28839209,27.382138380000001],[119.28830009000001,27.381512399999998],[119.28818509,27.381311400000001],[119.28777409,27.381021409999999],[119.28721908999999,27.38081742],[119.28629809,27.380219440000001],[119.28599509,27.379881449999999],[119.28568208999999,27.37967145],[119.28493908999999,27.379450460000001],[119.28426509000001,27.37959846],[119.28341309,27.379513459999998],[119.28228409,27.37924147],[119.28189809,27.37932747],[119.28153609,27.378997479999999],[119.28088108999999,27.378574489999998],[119.28067509,27.37851349],[119.28013409,27.37859649],[119.27960809,27.378897479999999],[119.27896708999999,27.379475459999998],[119.27800709,27.37958746],[119.27766809000001,27.379710450000001],[119.27756809,27.37983345],[119.27744309000001,27.380303430000001],[119.27744409,27.38071442],[119.27762409,27.38111241],[119.27751209,27.3813034],[119.27684609000001,27.381861390000001],[119.27552509,27.382371370000001],[119.27472509,27.382939350000001],[119.27418509,27.383658329999999],[119.27402909,27.383741329999999],[119.27376609,27.383849319999999],[119.27266709,27.38378732],[119.27170909,27.38340934],[119.27104808999999,27.383338340000002],[119.27108309,27.383837320000001],[119.27077009,27.384269310000001],[119.27065209,27.384576299999999],[119.27078308999999,27.385234279999999],[119.27073109,27.385574269999999],[119.26943609,27.387627200000001],[119.26923008999999,27.388088190000001],[119.26917309,27.388525179999998],[119.26937809,27.389049159999999],[119.26939609,27.389276150000001],[119.26880309000001,27.390775099999999],[119.26854809,27.391726080000002],[119.26834309,27.393036030000001],[119.26807809,27.394003999999999],[119.26783209,27.394234999999998],[119.26717409,27.394296990000001],[119.26682209000001,27.394419989999999],[119.26622509000001,27.39500997],[119.26556309,27.395339960000001],[119.26510909,27.39592794],[119.26485809,27.395976940000001],[119.26431709000001,27.395888939999999],[119.26399609000001,27.395926939999999],[119.26359309,27.396133939999999],[119.26347109,27.396321929999999],[119.26295109,27.396718920000001],[119.26230209000001,27.396794920000001],[119.26169409000001,27.3971719],[119.26160308999999,27.397620889999999],[119.26139508999999,27.39791288],[119.26130109,27.39858486],[119.26139109,27.399230840000001],[119.26169809,27.400038810000002],[119.26150109,27.400436800000001],[119.26093409000001,27.400649789999999],[119.26081009000001,27.400777789999999],[119.26098809,27.40148177],[119.26096609,27.40172476],[119.26074809000001,27.40198475],[119.25946709,27.402757730000001],[119.25858709000001,27.40343171],[119.25829309,27.4037367],[119.25810808999999,27.40416368],[119.25755109000001,27.40481466],[119.25741909,27.405472639999999],[119.25760309,27.406180620000001],[119.25759008999999,27.40640861],[119.25741109000001,27.406774599999999],[119.25704109,27.40696359],[119.25700309,27.40704959],[119.25717209,27.407357579999999],[119.25760509,27.407696569999999],[119.25763508999999,27.40809256],[119.25697108999999,27.409913499999998],[119.25694308999999,27.410943469999999],[119.25635809000001,27.411780440000001],[119.25610709,27.41241642],[119.25603509,27.412869409999999],[119.25605409000001,27.413782380000001],[119.25534809,27.41491834],[119.25511509,27.415834319999998],[119.25514708999999,27.416313299999999],[119.25533109,27.417030279999999],[119.25580809,27.417947250000001],[119.25565709,27.418405230000001],[119.25566809,27.41876422],[119.25547209,27.419021220000001],[119.25547009,27.41923521],[119.25571709,27.419483199999998],[119.25599309,27.41995219],[119.25607209,27.420521170000001],[119.25688409,27.422304109999999],[119.25697209,27.422799099999999],[119.25725109,27.423086090000002],[119.25764934423468,27.423901091049704],[119.260633031,27.4242609040001],[119.262975578,27.424683366000099],[119.26328251865687,27.424948227298458],[119.26333108999999,27.424957030000002],[119.26429509,27.425788000000001],[119.26499909,27.428232919999999],[119.26613609,27.43056185],[119.26882909,27.43415774],[119.26957908999999,27.435164709999999],[119.26975009,27.435393699999999],[119.26999409,27.437010650000001],[119.27193109,27.438995590000001],[119.27307809,27.441748499999999],[119.27319109,27.443122460000001],[119.27292208999999,27.443844429999999],[119.27341709,27.44450741],[119.27718809,27.45418411],[119.28046947207812,27.461026594975142],[119.286869626,27.4648274400001],[119.294567367,27.467847484000099],[119.31058509249316,27.474614441067438],[119.31224908999999,27.47068359],[119.31249809000001,27.470456590000001],[119.31333909,27.46995961],[119.31365409,27.469825610000001],[119.31419708999999,27.469763610000001],[119.31447109,27.469614620000002],[119.31499509,27.46902064],[119.31530008999999,27.468852640000001],[119.31590309000001,27.46869865],[119.31693208999999,27.468201659999998],[119.31795809,27.46809567],[119.31882109,27.468385659999999],[119.31947209,27.46823066],[119.32014608999999,27.467455690000001],[119.32078009,27.466939700000001],[119.32101908999999,27.46640472],[119.32154808999999,27.466139729999998],[119.32205109,27.465547749999999],[119.32260909,27.465149759999999],[119.32319309,27.46511976],[119.32333409,27.462716839999999],[119.32330009,27.462480840000001],[119.32300309,27.462354850000001],[119.32289409000001,27.462088860000001],[119.32311309000001,27.46050791],[119.32300509,27.460103920000002],[119.32311009,27.45918095],[119.32342309000001,27.458651969999998],[119.32408409,27.457104009999998],[119.32437209,27.456311039999999],[119.32476809000001,27.455992049999999],[119.32583609,27.455881049999999],[119.32899609,27.455353070000001],[119.33003209,27.455384070000001],[119.33204209,27.45515108],[119.33667509,27.454311100000002],[119.33756609,27.4542161],[119.33686109,27.453212140000002],[119.33665209,27.45262516],[119.33638409,27.450884210000002],[119.33631609,27.44874828],[119.33640109,27.447950299999999],[119.33673709,27.44696733],[119.33683009000001,27.44551238],[119.33697909,27.444861400000001],[119.33687209,27.444386420000001],[119.33622109,27.443192450000002],[119.33611409,27.44272647],[119.33611409,27.440388540000001],[119.33647209,27.438185610000001],[119.33663109,27.437925620000001],[119.33751509,27.437497629999999],[119.33800608999999,27.437038650000002],[119.33821709,27.43673866],[119.33851609,27.435861679999999],[119.33880009000001,27.434271729999999],[119.33888209,27.433017769999999],[119.33852809,27.431346829999999],[119.33866109,27.429049899999999],[119.33832509,27.428479920000001],[119.33839709,27.428129930000001],[119.33868909,27.427674939999999],[119.33876809,27.426885970000001],[119.33909709,27.426325980000001],[119.33940708999999,27.425559010000001],[119.33947609000001,27.425265020000001],[119.33924809,27.424673039999998],[119.33937509,27.424130049999999],[119.33969509000001,27.42363207],[119.33991009,27.42313309],[119.33992009000001,27.422802099999998],[119.33977709,27.422674099999998],[119.33975608999999,27.422559100000001],[119.33994409,27.422331109999998],[119.34020809,27.422231109999998],[119.34028609000001,27.422088120000002],[119.34037309,27.42138714],[119.34030208999999,27.420831159999999],[119.33987909,27.420266179999999],[119.33913909,27.419725190000001],[119.33754509000001,27.418880219999998],[119.33715409,27.418777219999999],[119.33578309000001,27.41819624],[119.33543409000001,27.41789825],[119.33465509,27.417490260000001],[119.33438309,27.417425269999999],[119.33306209,27.416599290000001],[119.33300809000001,27.416490289999999],[119.33319308999999,27.41590231],[119.33409609,27.414579360000001],[119.33455609000001,27.413732379999999],[119.33483009,27.413381390000001],[119.33518809,27.4130894],[119.33591109,27.41273541],[119.33647609000001,27.41267641],[119.33703409,27.412656420000001],[119.33816009,27.412785410000001],[119.33905509,27.412729410000001],[119.33954009,27.41243042],[119.33984009,27.41207343],[119.34014109,27.41167145],[119.34063709,27.41047348],[119.34065809000001,27.40979351],[119.34052708999999,27.40891053],[119.34039109,27.40861554],[119.34005109,27.408238560000001],[119.34006409,27.40813356],[119.34037909,27.40735458],[119.34133009,27.4069146],[119.34171209,27.406805599999998],[119.34218009,27.406832600000001],[119.34339409,27.407502579999999],[119.34427809,27.407760570000001],[119.34452509,27.40806856],[119.34482409,27.408124560000001],[119.34509109,27.40834255],[119.34536509,27.40879554],[119.34579409,27.40913553],[119.34610508999999,27.409623509999999],[119.34657609,27.40958951],[119.34736409,27.410104499999999],[119.34790909,27.41027849],[119.35030909,27.409959499999999],[119.35059309,27.409867500000001],[119.35092409000001,27.409535510000001],[119.35141209,27.408294550000001],[119.35189509,27.40778057],[119.35209309,27.407693569999999],[119.35259409,27.40771457],[119.35302308999999,27.407512579999999],[119.35452709,27.40716359],[119.35524409,27.407173589999999],[119.35636409,27.407069589999999],[119.35658109000001,27.40715359],[119.35760309,27.408055560000001],[119.35823109,27.408753539999999],[119.35847309,27.40914253],[119.35842108999999,27.409650509999999],[119.35853809,27.410612480000001],[119.35832609000001,27.411189459999999],[119.35856108999999,27.411497449999999],[119.35838708999999,27.411854439999999],[119.35908009000001,27.412647419999999],[119.35899809,27.413211400000002],[119.35916209,27.413340389999998],[119.35923909,27.413731380000002],[119.35945409,27.41401437],[119.35960209,27.41450936],[119.35990009,27.415107339999999],[119.36035609,27.41529633],[119.36064009,27.41533433],[119.36088809,27.415259330000001],[119.36162509,27.414744349999999],[119.36275709,27.41429136],[119.36331509,27.414154369999999],[119.36463209,27.414153370000001],[119.36484809,27.414091370000001],[119.36513909,27.413951369999999],[119.36576909,27.413704379999999],[119.36659009,27.41357339],[119.36705309,27.413111399999998],[119.36732709,27.412982410000001],[119.36768209,27.41294341],[119.36826109,27.4130854],[119.36884209,27.413027400000001],[119.36918409,27.412554419999999],[119.36953209000001,27.411816439999999],[119.36991408999999,27.41139046],[119.37088509,27.410700479999999],[119.37098309,27.41044849],[119.37089009,27.409752510000001],[119.37114708999999,27.409171529999998],[119.37114809000001,27.408846539999999],[119.37072909,27.407751569999999],[119.37047809000001,27.40746158],[119.37046309,27.406918600000001],[119.37083409,27.406312620000001],[119.37110309000001,27.406043619999998],[119.37123509,27.40575763],[119.37134309,27.404867660000001],[119.37116309,27.404805660000001],[119.37067909,27.404140680000001],[119.37041309,27.403578700000001],[119.37047609,27.40323171],[119.37068109000001,27.402894719999999],[119.37087909,27.402755729999999],[119.37148209,27.402596729999999],[119.37178209,27.402318739999998],[119.37183408999999,27.402083749999999],[119.37173808999999,27.401265769999998],[119.37161709,27.401102779999999],[119.37131409,27.400939780000002],[119.37035009,27.4003348],[119.36908409,27.399808820000001],[119.36858209,27.399321839999999],[119.36814409,27.399264840000001],[119.36654209,27.399324839999998],[119.36553909,27.399283839999999],[119.36451409,27.399074840000001],[119.36410609000001,27.398805849999999],[119.36288309,27.397374899999999],[119.36220908999999,27.396965909999999],[119.36194009,27.39698491],[119.36183609,27.396924909999999],[119.36121509,27.39638193],[119.36078009000001,27.39569195],[119.36055109,27.395141970000001],[119.36042409,27.395022969999999],[119.35980508999999,27.394667980000001],[119.35874609,27.39446599],[119.35803808999999,27.39433099],[119.35722109,27.393837009999999],[119.35630709,27.393510020000001],[119.35529609,27.39295504],[119.35330709,27.392642049999999],[119.35245309,27.39269504],[119.35162509,27.392482050000002],[119.35114109,27.392395050000001],[119.35010309,27.391603079999999],[119.34948808999999,27.390331119999999],[119.34985609,27.38808719],[119.35138309,27.38713022],[119.35151009,27.38691523],[119.35170209,27.38680523],[119.35178609,27.38658324],[119.35125809,27.385704260000001],[119.35071209,27.385091280000001],[119.35035209,27.38389432],[119.35044809,27.38330934],[119.35069109,27.38287235],[119.35083409000001,27.38274736],[119.35206909,27.382243370000001],[119.35356209,27.38177739],[119.35452209,27.381397400000001],[119.35508209,27.381037410000001],[119.35314309,27.380958410000002],[119.35198708999999,27.38103241],[119.35068509,27.38096341],[119.34435609000001,27.381035409999999],[119.34239008999999,27.381134410000001],[119.34199009,27.381227410000001],[119.34205909000001,27.382222370000001],[119.34197309,27.382652360000002],[119.34182109,27.38303835],[119.34121609,27.383601330000001],[119.34111609,27.38525928],[119.34120409000001,27.388726170000002],[119.34017909000001,27.388890159999999],[119.33969609,27.388805170000001],[119.33902109,27.388875160000001],[119.33842109,27.389042159999999],[119.33803809,27.388965160000001],[119.33714509000001,27.389032159999999],[119.33668709,27.389291149999998],[119.33546609,27.389756139999999],[119.33525809,27.38995813],[119.33499609,27.390073130000001],[119.33467908999999,27.390400119999999],[119.33436309,27.39058211],[119.33388109000001,27.390715109999999],[119.33307809,27.391282090000001],[119.33237009,27.39156608],[119.33170009,27.39151008],[119.33094809000001,27.391733070000001],[119.32971409,27.391256089999999],[119.32933208999999,27.391173089999999],[119.32880609,27.39117409],[119.32849908999999,27.39134009],[119.32835009,27.39148308],[119.32808509,27.392062060000001],[119.32798708999999,27.392691039999999],[119.32759109,27.393462020000001],[119.32702909,27.39355802],[119.32667809,27.393507020000001],[119.32595809,27.39357102],[119.32537709,27.393695009999998],[119.32490802,27.393979999999999],[119.32487509000001,27.394096999999999],[119.32518809,27.394578989999999],[119.32522209,27.394767980000001],[119.32472909000001,27.39593494],[119.32493109000001,27.396139940000001],[119.32542809,27.396403930000002],[119.32606208999999,27.397213900000001],[119.32596709000001,27.39802688],[119.32559809,27.398905849999998],[119.32538909,27.39916084],[119.32461209,27.39977682],[119.32432709,27.400114810000002],[119.32424909,27.4003108],[119.32425609000001,27.400723790000001],[119.32447609,27.40145077],[119.32443309,27.401866760000001],[119.32421109000001,27.402021749999999],[119.32371609,27.40209475],[119.32338308999999,27.402232739999999],[119.32318209,27.40260773],[119.32258409000001,27.40260773],[119.32238108999999,27.402678730000002],[119.32190808999999,27.403258709999999],[119.32139608999999,27.403212709999998],[119.32120509000001,27.403115719999999],[119.32080809,27.403132719999999],[119.32046609,27.403011719999999],[119.32019609,27.403409709999998],[119.31964909,27.403869690000001],[119.31929809,27.403779700000001],[119.31913009,27.403453710000001],[119.31858609,27.403534700000002],[119.31854509,27.403502700000001],[119.31881509,27.403185709999999],[119.31886209,27.403021720000002],[119.31874609,27.402810729999999],[119.31849509,27.402657730000001],[119.31817309,27.402623729999998],[119.31747709,27.40239974],[119.31661509,27.401722759999998],[119.31560709,27.401400769999999],[119.31537308999999,27.40103878],[119.31492209,27.401016779999999],[119.31466009,27.400284809999999],[119.31391609000001,27.399621830000001],[119.31373309,27.399103839999999],[119.31292508999999,27.39873085],[119.31273209,27.398535859999999],[119.31202609,27.398256870000001],[119.31127008999999,27.397678890000002],[119.31118409,27.397717889999999],[119.31097509,27.398170870000001],[119.31047409,27.398195869999999],[119.31040209,27.39803388],[119.31061809000001,27.39776788],[119.31061209000001,27.397526890000002],[119.31015409,27.396979909999999],[119.30947709,27.397314900000001],[119.30906509,27.397031909999999],[119.30838909000001,27.396185930000001],[119.30832608999999,27.395923939999999],[119.30851309000001,27.395613950000001],[119.30856609,27.39534596],[119.30807009,27.394765979999999],[119.30778209,27.394567989999999],[119.30769809,27.394275990000001],[119.30780509,27.393777010000001],[119.30777609,27.39355402],[119.30716409,27.39282004],[119.30714909,27.39239705],[119.30735009,27.391972070000001],[119.30736009,27.391519079999998],[119.30716509,27.391471079999999],[119.30681009,27.39112609],[119.30589909,27.390014130000001],[119.30581409,27.389672139999998],[119.30609509,27.389194150000002],[119.30475609,27.3879202]],
       satellite : new AMap.TileLayer.Satellite(),
     roadNet : new AMap.TileLayer.RoadNet(),
      }
    },
    //监听属性 类似于data概念
    computed: {},
    //监控data中的数据变化
    watch: {},
    //方法集合
    methods: {
        addpoline(){
            
            if(this.isshowoverlay){
               
    this.polyline = new AMap.Polyline({
        path: this.lineArr,          //设置线覆盖物路径
        strokeColor: "#3366FF", //线颜色
        strokeWeight: 5,        //线宽
        strokeStyle: "solid",   //线样式
        
    });
    this.map.add(this.polyline);
            }else{
                // 获取已经添加的覆盖物
                this.map.remove(this.map.getAllOverlays());
            }
            
    this.isshowoverlay=!this.isshowoverlay;
    console.log(this.isshowoverlay);
        },
        addmark(){
            if(this.isshowmarker){
                var marker = new AMap.Marker({
                        icon: "https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png",
                        // position: [119.305467, 26.087761]
                        // icon:require('../category/b00.png'),
                         position: [119.305467, 26.087761],
                        //  offset:(-10,-34)
            });
            marker.name='112'
            this.map.add(marker);
             var clickHandle = AMap.event.addListener(marker, 'click', function(e) {
             var cur =JSON.parse(JSON.stringify(e.target.getExtData()));
                //得到的数据
                console.log(e.target.name);
            });
            }else{
                // 获取已经添加的marker
                ;
                this.map.remove(this.map.getAllOverlays('marker'));

            }
            this.isshowmarker=!this.isshowmarker;
        },
        addimagelayer(){
            console.log('321');
            // 创建图片图层
        var imageLayer = new AMap.ImageLayer({
            
         bounds: new AMap.Bounds([73.502502,3.837097],   //左下角
                [135.083679,  53.563721]    //右上角
            ),
         url: 'http://ztq.soweather.com:8099/ztq_sh/sh_ht/HtImgNew/2021/9-28/0975edd7b3974087918a3a13c3c271bc.png', // 图片 Url
        zIndex:2,
        zooms: [3, 18],// 设置可见级别，[最小级别，最大级别]
       
        });
// 将图层添加至地图实例
this.map.add(imageLayer);
        },
        
        getlocation(){
            const self = this;
//             AMap.plugin('AMap.CitySearch', function () {
//   var citySearch = new AMap.CitySearch()
//   citySearch.getLocalCity(function (status, result) {
//       alert(JSON.stringify(result,status));
//     if (status === 'complete' && result.info === 'OK') {
//       // 查询成功，result即为当前所在城市信息
//     }
//   })
// })
// return;
            AMap.plugin('AMap.Geolocation', function() {
  var geolocation = new AMap.Geolocation({
        enableHighAccuracy: true,//是否使用高精度定位，默认:true
        timeout: 10000,          //超过10秒后停止定位，默认：无穷大
        maximumAge: 0,           //定位结果缓存0毫秒，默认：0
        convert: true,           //自动偏移坐标，偏移后的坐标为高德坐标，默认：true
        showButton: true,        //显示定位按钮，默认：true
        buttonPosition: 'LB',    //定位按钮停靠位置，默认：'LB'，左下角
        buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)
        showMarker: true,        //定位成功后在定位到的位置显示点标记，默认：true
        showCircle: true,        //定位成功后用圆圈表示定位精度范围，默认：true
        panToLocation: true,     //定位成功后将定位到的位置作为地图中心点，默认：true
        zoomToAccuracy:true      //定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false
  })
// this.map.addControl(geolocation);
  geolocation.getCurrentPosition()
  AMap.event.addListener(geolocation, 'complete', onComplete)
  AMap.event.addListener(geolocation, 'error', onError)

  function onComplete (data) {
    // data是具体的定位信息
    console.log(data)
    // alert(JSON.stringify(data));
  }

  function onError (data) {
    // 定位出错
    console.log(data)
    alert(JSON.stringify(data));
    self.getLngLatLocation();
// document.getElementById('tip').innerHTML = '定位失败';

  }
})
        },
        // 获取经纬度，在获取具体定位失败时调用
getLngLatLocation() {
  AMap.plugin("AMap.CitySearch", function () {
    var citySearch = new AMap.CitySearch();
    citySearch.getLocalCity(function (status, result) {
      if (status === "complete" && result.info === "OK") {
        // 查询成功，result即为当前所在城市信息
        console.log(result);
        AMap.plugin("AMap.Geocoder", function () {
          var geocoder = new AMap.Geocoder({
            // city 指定进行编码查询的城市，支持传入城市名、adcode 和 citycode
            city: result.adcode,
          });
          var lnglat = result.rectangle.split(";")[0].split(",");
          geocoder.getAddress(lnglat, function (status, data) {
            if (status === "complete" && data.info === "OK") {
              // result为对应的地理位置详细信息
              console.log(data);
                alert(JSON.stringify(data));
            }
          });
        });
      }
    });
  });
},
addPolygon(){
   this.isshowoverlay=!this.isshowoverlay;
  if(!this.isshowoverlay){
    var polygonArr = new Array();//创建多边形坐标数组
            polygonArr.push(this.lineArr);
            // console.log(polygonArr);
            var polygon = new AMap.Polygon({
                path: this.lineArr,//设置多边形边界路径   polygon[i]
                strokeOpacity: 1, //线透明度
                fillOpacity: 0.4,
                fillColor: '#80d8ff',
                strokeColor: '#0091ea',
                strokeStyle: "dashed",   //线样式
                strokeDasharray: [5, 2], //补充线样式
                // extData: (arr.features[i].properties)//给每个面放进自定义的数据
            });
            console.log(polygon);
            polygon.setMap(this.map);
            this.map.setFitView(polygon);//视口自适应
  }else{
    this.map.remove(this.map.getAllOverlays());
  }
},
change(){
    this.isshowoverlay=!this.isshowoverlay;
    if(!this.isshowoverlay){
      this.map.add([this.satellite,this.roadNet]);
    }else{
       this.map.remove([this.satellite]);
    }
    
    // this.map.addControl(new AMap.MapType({
    //         defaultType:1 //0代表默认，1代表卫星
    //     }));

  
}

    },
    //生命周期 - 创建完成（可以访问当前this实例）
    created() {},
    //生命周期 - 挂载完成（可以访问DOM元素）
    mounted() {
//       AMapLoader.load({
//     "key": "f0db3371f94c2143e951809a3f3a5fcf",              // 申请好的Web端开发者Key，首次调用 load 时必填
//     "version": "1.4.15",   // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15
//     "plugins": [],           // 需要使用的的插件列表，如比例尺'AMap.Scale'等
//     "AMapUI": {             // 是否加载 AMapUI，缺省不加载
//         "version": '1.1',   // AMapUI 缺省 1.1
//         "plugins":[],       // 需要加载的 AMapUI ui插件
//     },
//     "Loca":{                // 是否加载 Loca， 缺省不加载
//         "version": '1.3.2'  // Loca 版本，缺省 1.3.2
//     },
// }).then((AMap)=>{
//     map = new AMap.Map('container');
// }).catch(e => {
//     console.log(e);
// });
        this.map = new AMap.Map('container', {
 	resizeEnable: true,    //是否监控地图容器尺寸变化
    zoom:5,               //初始化地图层级
    center: [119.3,26.08], //初始化地图中心点
    // layers: [new AMap.TileLayer.Satellite()],
    viewMode:'3D', // 地图模式
    terrain: true ,// 开启地形图
    rotateEnable: false,
    pitchEnable: false,
    pitch: 65,
    rotation: 45,
    zooms:[2,20],
    });
    this.zoom = this.map.getZoom();  //获取当前地图级别
    // this.map.setMapStyle('amap://styles/whitesmoke');  //自定义地图的样式
    },
    beforeCreate() {}, //生命周期 - 创建之前
    beforeMount() {}, //生命周期 - 挂载之前
    beforeUpdate() {}, //生命周期 - 更新之前
    updated() {}, //生命周期 - 更新之后
    beforeDestroy() {}, //生命周期 - 销毁之前
    destroyed() {}, //生命周期 - 销毁完成
    activated() {}, //如果页面有keep-alive缓存功能，这个函数会触发
  }
</script>
<style scoped>
#container {
    background-color: white;
  position: relative;
  z-index: 99;
  height: 100vh;
    /* width:100%; 
    height:100%; */
    /* overflow: hidden;
    margin-bottom: 49px; */
    }
    .btn1{
        position: absolute;
        z-index: 100;
        height: 30px;
        width: 70px;
        background-color: pink;
        left: 0;
        top: 50px;
    }
    .btn2{
        position: absolute;
        z-index: 100;
        background-color: pink;
        left: 0;
        top: 90px;
        height: 30px;
        width: 70px;
    }
    .btn3{
        position: absolute;
        z-index: 100;
        background-color: pink;
        left: 0;
        top: 130px;
        height: 30px;
        width: 70px;
    }
    .btn4{
        position: absolute;
        z-index: 100;
        background-color: pink;
        left: 0;
        top: 170px;
        height: 30px;
        width: 70px;
    }
    .btn5{
        position: absolute;
        z-index: 100;
        background-color: pink;
        left: 0;
        top: 210px;
        height: 30px;
        width: 70px;
    }
    .btn6{
        position: absolute;
        z-index: 100;
        background-color: pink;
        left: 0;
        top: 250px;
        height: 30px;
        width: 70px;
    }
</style>